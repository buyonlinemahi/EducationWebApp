@using System.Web.Script.Serialization
@using HCRGUniversityMgtApp.Infrastructure.Global;
@{
    ViewBag.Title = "Index";
}
@section header{
    <a class="navbar-brand" href="#">Enterprise</a>
}
<div id="divAddEnterprise">
    <div class="inner-content">
        <!--start row -->
        <div class="row">
            <div class="panel-wrapper">
                <div class="panel panel-default">
                    <!-- Default panel contents -->
                    <div class="panel-heading">Add Enterprise</div>
                    @using (Html.BeginForm(GlobalConst.Actions.EnterpriseController.Add, GlobalConst.Controllers.Enterprise, FormMethod.Post, new
                    {
                        id = "frmAddEnterprise",
                        enctype = "multipart/form-data",
                        data_bind = "ajaxForm : { success : function(responseText ,statusText,xhr,$form){ AddEnterpriseDetailSuccess(responseText);},beforeSubmit : AddEnterpriseFormBeforeSubmit ,clearForm : true  }"
                    }))
                    {
                        <div class="mtb-20">
                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>Client Name :<span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="txtEnterpriseClientName" maxlength="50" required="required" name="EnterpriseClientName" data-bind="value:EnterpriseClientName,jqBootstrapValidation: {}" placeholder="Enterprise Client Name">
                                        <input type="hidden" id="EnterpriseID" name="EnterpriseID" data-bind="value:EnterpriseID" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>Address : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="text" required="required" class="form-control" name="EnterpriseAddress" maxlength="50" placeholder="Enterprise Address" data-bind="value:EnterpriseAddress,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>City : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="text" required="required" class="form-control" name="EnterpriseCity" maxlength="50" placeholder="Enterprise City" data-bind="value:EnterpriseCity,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label> State : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <select class="form-control" id="EnterpriseStateID" name="EnterpriseStateID" data-bind="options: EnterpriseStates, optionsText: 'StateName', optionsValue: 'StateID', value: EnterpriseStateselectedItem"></select>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>Zip : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="text" required="required" class="form-control zipmask" name="EnterpriseZip" maxlength="10" placeholder="Enterprise Zip" data-bind="value:EnterpriseZip,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>Phone : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="text" required="required" class="form-control phonemask" name="EnterprisePhone" maxlength="14" placeholder="Enterprise Phone" data-bind="value:EnterprisePhone,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>Email : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="email" required="required" class="form-control" name="EnterpriseEmail" maxlength="50" placeholder="Enterprise Email" data-bind="value:EnterpriseEmail,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>Start Price : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="number" min="1" required="required" class="form-control" id="inputEnterpriseCourseStartPrice" name="EnterpriseCourseStartPrice" maxlength="10" placeholder="Enterprise Start Price" data-bind="value:EnterpriseCourseStartPrice,jqBootstrapValidation: {}">
                                        <span class="red" id="spnaEnterpriseStartPrice"> </span>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>End Price : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="number" min="2" required="required" class="form-control" id="inputEnterpriseCourseEndPrice" name="EnterpriseCourseEndPrice" maxlength="10" placeholder="Enterprise End Price" data-bind="value:EnterpriseCourseEndPrice,jqBootstrapValidation: {}">
                                        <span class="red" id="spnaEnterpriseEndPrice"> </span>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>Program : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <label class="font-16 mtb-9">
                                            <input required type="checkbox" data-bind="checked:EnterpriseProgram,jqBootstrapValidation: {}" name="EnterpriseProgram" id="EnterpriseProgram" value="true" />
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>End Date : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="text" required="required" class="form-control datepicker" name="EnterpriseEndDate" maxlength="10" placeholder="Enterprise End Date" data-bind="value:EnterpriseEndDate,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-2 col-sm-3"><label>Number User : <span class="red">*</span></label>    </div>
                                <div class="col-md-4 col-sm-9">
                                    <div class="form-group">
                                        <input type="number" required="required" class="form-control" name="EnterpriseNumberUser" maxlength="10" placeholder="Enterprise Number User" data-bind="value:EnterpriseNumberUser,jqBootstrapValidation: {}">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                <input type="submit" class="btn btn-default" value="Submit">
                            </div></div>
                        </div>
                    }

                </div>
            </div>
            <!-- row-end -->
        </div><!-- /inner-wrapper -->
    </div>
</div>
@section scripts{
    <script src="~/Scripts/bootstrap/js/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    <script src="~/Scripts/jquery-ui.js"></script>
    <script src="~/Scripts/jquery.maskedinput.min.js"></script>
    <script src="~/Scripts/Plugin/Jquery.checkNumericNumbers.js"></script>
    <link href="~/Content/ui/jquery-ui.css" rel="stylesheet" />
    <script src="~/Scripts/knockout/viewmodel/views/Enterprise/AddEnterpriseViewModel.js"></script>
    <script src="@Url.Content("~/Scripts/jquery.tmpl.js")"></script>
    <script type="text/javascript">
        var model = @MvcHtmlString.Create(new JavaScriptSerializer().Serialize(Model));
        var addEnterpriseViewModel = new AddEnterpriseViewModel();
        addEnterpriseViewModel.Init(model);
        ko.applyBindings(addEnterpriseViewModel, $("#divAddEnterprise").get(0));
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(".datepicker").datepicker();
            $('.phonemask').mask('(999)-999-9999');
            $('.zipmask').mask('99999?-9999')
            .blur(function () {
                var lastFour = $(this).val().substr(6, 4);
                if (lastFour != "") {
                    if (lastFour.length != 4) {
                        $(this).val("");
                    }
                }
            });
        });
    </script>
}